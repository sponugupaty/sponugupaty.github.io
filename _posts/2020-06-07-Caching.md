# Caching

Here's the table of contents:

1. TOC
{:toc}

## Overview

- Caches take advantage of the locality of reference principle: recently requested data is likely to be requested again
- used in almost every layer of computing: hardware, operating systems, web browsers, web applications, and more
- is like short-term memory: it has a limited amount of space, but is typically faster than the original data source 
- And contains the most recently accessed items
- often found at the level nearest to the front end

**Application server cache**
- Placing a cache on the request layer node is one option
- It can quickly respond to a query using the local cache 
- if not available in cache , it can go the local disk and respond
- Cache can exist in local memory ( very fast ) or on local drive ( faster than going to network drive )
- Possible to have each node have its own cache 
	- Issue - if load balancer randomly distributes the load , leads to high cache misses 
	- Solution - global caches and distributed caches 
	
**Content Distribution Network (CDN)**
- CDNs are a kind of cache that comes into play for sites serving large amounts of static media
- static media is asked for to the CDN 
	- if available - serve it locally 
	- else request to backend server , cache it and then serve back 
- if not big enough to have CDN , use subdomain for starters and then expand to CDN
	
	
	
## Memcache

- **What is Memcache ?**
	- In-memory key value data store
	- Faster than the disk based caches 
	- Can put anything that is serializable as either keys or values
- **What is Memcache useful for ?**
	- Caching
		- Data store query results 
		- User authentication or session data 
		- API calls or other computation results 
	- Sharing data across app instances 
- **Why do we need Memcache ?**
	- Improve Application performance
		- Faster than datastore  
	- Reduce application cost 
- **How do we use Memcache ?**
	- Usage Pattern -
		- Co-ordinate data read with data store -
			- Check if memcache value exists - if yes - show directly 
			- If does not - fetch from data store and write value to memcache 
		- Co-ordinate data write with data store -
			- Invalidate the entire cache or particular entry 
			- Write to data store 
			- Optionally update memcache entry 
- **Caveats of Memcache -**
	- It is volatile -
		- Entry has reached expiration 
		- Memcache is full 
		- Memcache server fails 
		- Solution : Implement write-through logic to data store
	- It is not transactional -
		- Causing inconsistency in data 
		- Solution : Use optimistic locking
	- It is a limited resource 
- **Memcache vs Redis comparison:**
	- Both can perform the same functions 
	- Read/Write speed : Redis faster 
	- Memory Usage : Redis is better 
	- Disk I/O Dumping : Redis
	- Memcache Value to be stored limited to 1MB . Redis 512MB
	- Memcache looses data on restart . Redis can retain data 
	- Redis comes with cluster support 
	- Redis has support for many data types whereas memcache is primarily strings

**References**
- [YouTube Link](https://www.youtube.com/watch?v=TGl81wr8lz8)
- [StackOverflow](https://stackoverflow.com/questions/10558465/memcached-vs-redis)
- [Redis](https://www.credera.com/blog/technology-insights/java/redis-explained-5-minutes-less/)

---

## Lists

Here's a list:

- item 1
- item 2

And a numbered list:

1. item 1
1. item 2

## Boxes and stuff

> This is a quotation

{% include alert.html text="You can include alert boxes" %}

...and...

{% include info.html text="You can include info boxes" %}

## Images

![](/images/logo.png "fast.ai's logo")

## Code

General preformatted text:

    # Do a thing
    do_thing()

Python code and output:

```python
# Prints '2'
print(1+1)
```

    2

## Tables

| Column 1 | Column 2 |
|-|-|
| A thing | Another thing |

## Footnotes

[^1]: This is the footnote.

